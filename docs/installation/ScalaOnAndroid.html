<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>macroid</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="A modular functional user interface creation language for Android, implemented with Scala macros" /><meta name="author" content="macroid" /><meta name="og:image" content="/macroid/img/poster.png" /><meta name="og:title" content="macroid" /><meta name="og:site_name" content="macroid" /><meta name="og:url" content="http://macroid.github.io" /><meta name="og:type" content="website" /><meta name="og:description" content="A modular functional user interface creation language for Android, implemented with Scala macros" /><meta name="twitter:image" content="/macroid/img/poster.png" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="" /><link rel="icon" type="image/png" href="/macroid/img/favicon.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css" /><link rel="stylesheet" href="/macroid/css/style.css" /><link rel="stylesheet" href="/macroid/css/palette.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/macroid/" class="brand"><div class="brand-wrapper" style="background:url('/macroid/img/sidebar_brand.png') no-repeat"><span>macroid</span></div></a></li>  <li><a href="/macroid/docs/index.html" class="">Introduction</a>  <li><a href="/macroid/docs/Installation.html" class="">Installation</a> <ul class="sub_section"> <li><a href="/macroid/docs/installation/ScalaOnAndroid.html" class=" active ">Scala on Android</a></li></ul>  <li><a href="/macroid/docs/Tutorial.html" class="">Tutorial</a> <ul class="sub_section"> <li><a href="/macroid/docs/tutorial/BuildingLayouts.html" class="">Building layouts</a></li> <li><a href="/macroid/docs/tutorial/Tweaking.html" class="">Tweaking widgets</a></li> <li><a href="/macroid/docs/tutorial/HandlingEvents.html" class="">Handling events</a></li> <li><a href="/macroid/docs/tutorial/GettingAdaptive.html" class="">Getting adaptive</a></li> <li><a href="/macroid/docs/tutorial/CompleteCode.html" class="">Complete code</a></li></ul>  <li><a href="/macroid/docs/Guide.html" class="">Guide</a> <ul class="sub_section"> <li><a href="/macroid/docs/guide/UiActions.html" class="">UI actions</a></li> <li><a href="/macroid/docs/guide/Contexts.html" class="">Contexts</a></li> <li><a href="/macroid/docs/guide/Bricks.html" class="">Bricks</a></li> <li><a href="/macroid/docs/guide/Tweaks.html" class="">Tweaks</a></li> <li><a href="/macroid/docs/guide/Snails.html" class="">Snails</a></li> <li><a href="/macroid/docs/guide/Transformers.html" class="">Transformers</a></li> <li><a href="/macroid/docs/guide/Operators.html" class="">Understand operators</a></li> <li><a href="/macroid/docs/guide/MediaQueries.html" class="">Media queries</a></li> <li><a href="/macroid/docs/guide/Fragments.html" class="">Fragments</a></li> <li><a href="/macroid/docs/guide/Searching.html" class="">Searching</a></li> <li><a href="/macroid/docs/guide/ToastsDialogs.html" class="">Toasts and dialogs</a></li> <li><a href="/macroid/docs/guide/Advanced.html" class="">Advances techniques</a></li> <li><a href="/macroid/docs/guide/Imports.html" class="">Imports</a></li></ul>  <li><a href="/macroid/docs/Modules.html" class="">Modules</a> <ul class="sub_section"> <li><a href="/macroid/docs/modules/Viewable.html" class="">Viewable</a></li> <li><a href="/macroid/docs/modules/Akka.html" class="">Akka Integration</a></li></ul>  <li><a href="/macroid/docs/Differences.html" class="">Differences from</a> <ul class="sub_section"> <li><a href="/macroid/docs/differences/Vanilla.html" class="">Vanilla Android</a></li> <li><a href="/macroid/docs/differences/Scaloid.html" class="">Scaloid</a></li></ul>  <li><a href="/macroid/docs/Samples.html" class="">Sample Projects</a>  <li><a href="/macroid/docs/Talks.html" class="">Talks</a>  <li><a href="/macroid/docs/Changelog.html" class="">Changelog</a> </li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="hidden-xs"><a href="https://github.com/47deg/macroid"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li class="hidden-xs"><a href="https://github.com/47deg/macroid"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('macroid A modular functional user interface creation language for Android, implemented with Scala macros');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('macroid A modular functional user interface creation language for Android, implemented with Scala macros');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="47deg" data-github-repo="macroid"><div class="content-wrapper"><section><h1 id="scala-on-android">Scala on Android</h1>

<p>Writing your Android project in <a href="http://scala-lang.org/">Scala</a> is becoming smoother and smoother.
This is a short guide that will help you get started.</p>

<h2 id="proscons">Pros/cons</h2>

<ul>
  <li>(+) Concise code</li>
  <li>(+) Fantastic concurrency support (futures/promises, scala-async, actors, …)</li>
  <li>(+) Advanced DSLs (like Macroid ;) )</li>
  <li>(−) Build time (due to ProGuard + dex taking up to 1 minute on big projects)</li>
</ul>

<h2 id="tutorials">Tutorials</h2>

<p>If the instructions below are too dry for your taste, check out these tutorials:</p>

<ul>
  <li><a href="http://blog.eigengo.com/2014/06/21/android-and-scala/">Android &amp; Scala (part 1)</a> by <a href="https://twitter.com/honzam399">Jan Macháček</a></li>
  <li><a href="http://www.47deg.com/blog/scala-on-android-preparing-the-environment">Scala on Android — Preparing the environment (part 1)</a> by <a href="https://twitter.com/@fede_fdz">Federico Fernández </a></li>
</ul>

<h2 id="the-android-sdk">The Android SDK</h2>

<p>The SDK can be downloaded from the <a href="http://developer.android.com/sdk/index.html">Android website</a>.
You will also need to configure <code class="highlighter-rouge">ANDROID_HOME</code> environment variable to point to the installation.</p>

<p>To use the bundled libraries, such as the support library, make sure you install the following items in the SDK manager:</p>

<p><img src="/macroid/img/SDK-manager.png" alt="SDK manager screenshot" /></p>

<p>Alternatively, you can find a UNIX install script in
<a href="https://github.com/47deg/macroid/blob/master/.travis.yml#L7"><em>Macroid</em>’s Travis config</a>.</p>

<h2 id="the-build-system">The build system</h2>

<p>The most important part of the equation is the build system
(in mainland Android you are likely to use one anyway).
After configuring the build you will be able to compile and <em>run the project from the command line</em>
and <em>generate IDE project files automatically</em>.</p>

<p>Currently there are three options:</p>

<ul>
  <li>
    <p><strong>Recommended</strong>. Use <a href="http://www.scala-sbt.org/">sbt</a>, Scala’s de-facto standard build system.
You’ll have to install it from its website. To compile and run Android projects you’ll need the
<a href="https://github.com/pfn/android-sdk-plugin">Android plugin</a>. Follow the plugin’s readme page to set things up.</p>
  </li>
  <li>
    <p>Use <a href="http://www.gradle.org/">Gradle</a> and <a href="https://github.com/saturday06/gradle-android-scala-plugin">Android+Scala plugin</a></p>
  </li>
  <li>
    <p><strong>Not recommended</strong>. Just use an IDE without the build system.
For Eclipse you’ll need the <a href="http://developer.android.com/tools/sdk/eclipse-adt.html">ADT plugin</a>, <a href="http://scala-ide.org/">Scala IDE</a> and <a href="https://github.com/banshee/AndroidProguardScala">AndroidProguardScala plugin</a>.
For <a href="http://www.jetbrains.com/idea/">Intellij IDEA</a> or <a href="http://developer.android.com/sdk/installing/studio.html">Android Studio</a>, which is the same, see <a href="https://github.com/yareally/android-scala-intellij-no-sbt-plugin">this guide</a>.</p>
  </li>
</ul>

<h2 id="the-ide">The IDE</h2>

<p>The recommended IDE is <a href="http://www.jetbrains.com/idea/">Intellij IDEA</a> or
<a href="http://developer.android.com/sdk/installing/studio.html">Android Studio</a>, which is the same.
You will need to have the <a href="http://plugins.jetbrains.com/plugin/?id=1347">Scala</a>
and <a href="http://plugins.jetbrains.com/plugin/5007?pr=idea">sbt</a> plugins installed. Below I am assuming that
you are using the first building option, i.e. sbt.</p>

<p>Once you have the build running from the command line, <s>follow the instructions for the sbt plugin to
create IDE project files</s>. Since IDEA 14, you just need to import the project and specify Android SDK as its SDK.</p>

<p>Inside IDEA, you can use the sbt console to run the project. Alternatively, the “run” button could
be reconfigured for that purpose: go to Run → Edit Configurations →
(select a configuration) → Before launch. You need to configure it to look like this:</p>

<p><img src="/macroid/img/before-launch.png" alt="before launch" /></p>

<p>Make sure that the paths to <code class="highlighter-rouge">AndroidManifest.xml</code> and the <code class="highlighter-rouge">APK</code>
are configured properly. Go to Project settings → Modules → (select main module) → Android → Structure/Packaging.
* Manifest file should be <code class="highlighter-rouge">/path-to-project/src/main/AndroidManifest.xml</code>:</p>

<p><img src="/macroid/img/manifest-path.png" alt="manifest path" /></p>

<ul>
  <li>
    <p>APK path should be <code class="highlighter-rouge">path-to-project/target/android-bin/build_integration/{module name}-BUILD-INTEGRATION.apk</code>:</p>

    <p><img src="/macroid/img/apk-path.png" alt="apk path" /></p>
  </li>
</ul>

<h2 id="additional-steps">Additional steps</h2>

<p>It is possible to preload Scala standard library on the emulator to reduce build times.
Here is <a href="https://github.com/svenwiegand/scala-libs-for-android-emulator">a tool</a> to do that.</p>

<h2 id="useful-resources">Useful resources</h2>

<ul>
  <li>When in doubt, don’t hesitate to use the <a href="https://groups.google.com/forum/#!forum/scala-on-android">Scala-on-Android mailing list</a>.</li>
  <li>See the <a href="../Talks.html">talks</a> section, as I also cover the matter in those talks.</li>
</ul>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/languages/scala.min.js"></script><script src="/macroid/js/main.js"></script></body></html>